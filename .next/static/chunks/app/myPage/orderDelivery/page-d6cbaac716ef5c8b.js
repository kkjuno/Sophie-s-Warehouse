(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9973],{1791:(e,l,r)=>{Promise.resolve().then(r.bind(r,9534)),Promise.resolve().then(r.bind(r,8427)),Promise.resolve().then(r.bind(r,533)),Promise.resolve().then(r.bind(r,5265)),Promise.resolve().then(r.bind(r,3375)),Promise.resolve().then(r.t.bind(r,1326,23))},8427:(e,l,r)=>{"use strict";r.d(l,{default:()=>_});var a=r(5155),s=r(2115),i=r(6677),t=r(4448),o=r(9481),n=r.n(o),d=r(1326),c=r.n(d);function _(){let[e,l]=(0,s.useState)(""),[r,o]=(0,s.useState)("2025-06-01"),[d,_]=(0,s.useState)("2025-07-31"),[u,h]=(0,s.useState)(!1),[p,b]=(0,s.useActionState)(i.U,null),[v,w]=(0,s.useState)([]),[x,j]=(0,s.useState)([]),[g,N]=(0,s.useState)(!1),[k,y]=(0,s.useState)(null),[f,S]=(0,s.useTransition)(),{user:C}=(0,t.A)(),D=(0,s.useCallback)((e,l,r)=>{if(!l||!r)return void j(e);let a=new Date(l),s=new Date(r);s.setHours(23,59,59,999),j(e.filter(e=>{let l=new Date(e.createdAt);return l>=a&&l<=s}))},[]);(0,s.useEffect)(()=>{(null==p?void 0:p.ok)?(w(p.item.orders),D(p.item.orders,r,d),y(null)):(null==p?void 0:p.message)&&(y(p.message),w([]),j([])),N(!1)},[p,D,r,d]),(0,s.useEffect)(()=>{v.length>0&&D(v,r,d)},[r,d,v,D]);let P=e=>{console.log("선택된 기간:",e),l(e);let r=new Date,a=r.toISOString().split("T")[0],s="";switch(e){case"오늘":s=a;break;case"7일":s=new Date(r.getTime()-5184e5).toISOString().split("T")[0];break;case"15일":s=new Date(r.getTime()-12096e5).toISOString().split("T")[0];break;case"1개월":s=new Date(r.getTime()-25056e5).toISOString().split("T")[0];break;case"3개월":s=new Date(r.getTime()-76896e5).toISOString().split("T")[0];break;case"1년":s=new Date(r.getTime()-314496e5).toISOString().split("T")[0];break;default:return}console.log("계산된 시작일:",s),console.log("계산된 종료일:",a),o(s),_(a),h(!1)},V=e=>{switch(e){case"OS010":return"주문접수";case"OS020":return"상품준비중";case"OS030":return"배송중";case"OS040":return"배송완료";default:return"알 수 없음"}},H=e=>e.toLocaleString("ko-KR")+"원";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:c().mobile_order_delivery,children:[(0,a.jsxs)("div",{className:"".concat(c().mobile_order_delivery_container_lg," ").concat(c().mobile_dropdown_container),children:[(0,a.jsxs)("button",{className:"".concat(c().mobile_order_delivery_arrow_button," ").concat(c().mobile_dropdown_button),onClick:()=>h(!u),children:[(0,a.jsx)("span",{className:c().mobile_dropdown_arrow_text,children:e||"기간 선택"}),(0,a.jsx)("svg",{width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"".concat(c().mobile_dropdown_arrow," ").concat(u?c().mobile_dropdown_arrow_open:""),children:(0,a.jsx)("path",{d:"M0.176092 0.1912C0.288878 0.0687746 0.441828 0 0.601308 0C0.760787 0 0.913737 0.0687746 1.02652 0.1912L4.00363 3.42372L6.98074 0.1912C7.09417 0.0722442 7.2461 0.00642175 7.40379 0.00790964C7.56149 0.00939752 7.71233 0.0780765 7.82384 0.199154C7.93536 0.320232 7.99861 0.484021 7.99998 0.655244C8.00135 0.826468 7.94073 0.991425 7.83117 1.11459L4.42885 4.8088C4.31606 4.93123 4.16311 5 4.00363 5C3.84415 5 3.6912 4.93123 3.57842 4.8088L0.176092 1.11459C0.0633405 0.992127 0 0.826055 0 0.652894C0 0.479733 0.0633405 0.313661 0.176092 0.1912Z",fill:"#949494"})})]}),u&&(0,a.jsx)("div",{className:c().mobile_dropdown_menu,children:["오늘","7일","15일","1개월","3개월","1년"].map(l=>(0,a.jsx)("button",{onClick:()=>P(l),className:"".concat(c().mobile_dropdown_item," ").concat(e===l?c().mobile_dropdown_item_active:""),children:l},l))})]}),(0,a.jsxs)("div",{className:c().mobile_order_delivery_wrapper,children:[(0,a.jsxs)("div",{className:c().mobile_order_delivery_container_sm,children:[(0,a.jsxs)("div",{className:c().mobile_date_container,children:[(0,a.jsx)("input",{type:"date",id:"mobile-start-date",name:"startDate",value:r,onChange:e=>{console.log("시작일 변경됨:",e.target.value),o(e.target.value)},className:c().mobile_date_input}),(0,a.jsx)("div",{className:c().mobile_date_display,children:(0,a.jsx)("span",{children:r})})]}),(0,a.jsx)("button",{className:c().mobile_order_delivery_calendar_button,onClick:()=>{let e=document.querySelector('input[type="date"]');if(e){e.focus(),e.click();try{"showPicker"in e&&"function"==typeof e.showPicker&&e.showPicker()}catch(e){console.log("showPicker 지원하지 않음")}}},children:(0,a.jsx)(m,{})})]}),(0,a.jsx)("span",{className:c().mobile_order_delivery_period,children:"~"}),(0,a.jsxs)("div",{className:c().mobile_order_delivery_container_sm,children:[(0,a.jsxs)("div",{className:c().mobile_date_container,children:[(0,a.jsx)("input",{type:"date",id:"mobile-end-date",name:"endDate",value:d,onChange:e=>{console.log("종료일 변경됨:",e.target.value),_(e.target.value)},className:c().mobile_date_input}),(0,a.jsx)("div",{className:c().mobile_date_display,children:(0,a.jsx)("span",{children:d})})]}),(0,a.jsx)("button",{className:c().mobile_order_delivery_calendar_button,onClick:()=>{let e=document.querySelectorAll('input[type="date"]')[1];if(e){e.focus(),e.click();try{"showPicker"in e&&"function"==typeof e.showPicker&&e.showPicker()}catch(e){console.log("showPicker 지원하지 않음")}}},children:(0,a.jsx)(m,{})})]}),(0,a.jsx)("button",{className:n().inquiry_button,onClick:()=>{var e;if(console.log("조회 시작"),console.log("시작일:",r),console.log("종료일:",d),!r||!d)return void alert("조회 기간을 선택해주세요.");if(new Date(r)>new Date(d))return void alert("시작일은 종료일보다 이전이어야 합니다.");if(!(null==C||null==(e=C.token)?void 0:e.accessToken))return void alert("로그인이 필요합니다.");N(!0),y(null);let l=new FormData;l.append("token",C.token.accessToken),l.append("startDate",r),l.append("endDate",d),l.append("page","1"),l.append("limit","100"),S(()=>{b(l)})},children:"조회"})]})]}),(0,a.jsx)("hr",{className:c().mobile_order_delivery_divider}),(0,a.jsx)("ul",{className:c().mobile_order_delivery_view_list_wrapper,children:g||f?(0,a.jsx)("li",{className:c().mobile_order_delivery_view_list,children:"조회 중..."}):k?(0,a.jsxs)("li",{className:c().mobile_order_delivery_view_list,children:["오류: ",k]}):0===x.length?(0,a.jsx)("li",{className:c().mobile_order_delivery_view_list,children:"조회내역이 없습니다."}):x.map(e=>(0,a.jsx)("li",{className:c().mobile_order_data_wrapper,children:e.products.map((l,r)=>(0,a.jsxs)("div",{className:c().mobile_order_product_wrapper,children:[(0,a.jsxs)("p",{className:c().mobile_order_data_row,children:[(0,a.jsx)("span",{className:c().mobile_order_label,children:"주문날짜:"}),(0,a.jsx)("span",{className:c().mobile_order_value,children:new Date(e.createdAt).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\./g,".").replace(/\s/g,"")})]}),(0,a.jsxs)("p",{className:c().mobile_order_data_row,children:[(0,a.jsx)("span",{className:c().mobile_order_label,children:"상품명/옵션:"}),(0,a.jsxs)("span",{className:c().mobile_order_value,children:[l.name," - ",l.option," (수량: ",l.quantity,"개)"]})]}),(0,a.jsxs)("p",{className:c().mobile_order_data_row,children:[(0,a.jsx)("span",{className:c().mobile_order_label,children:"상품금액:"}),(0,a.jsx)("span",{className:c().mobile_order_value,children:H(l.price*l.quantity)})]}),(0,a.jsxs)("p",{className:c().mobile_order_data_row,children:[(0,a.jsx)("span",{className:c().mobile_order_label,children:"진행상태:"}),(0,a.jsx)("span",{className:c().mobile_order_value,children:V(e.state)})]}),(0,a.jsxs)("p",{className:c().mobile_order_data_row,children:[(0,a.jsx)("span",{className:c().mobile_order_label,children:"주문번호:"}),(0,a.jsx)("span",{className:c().mobile_order_value,children:e.orderNumber||"ORDER-".concat(e._id.toString().padStart(6,"0"))})]})]},r))},e._id))})]})}function m(){return(0,a.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1 7H17M9 4V1M4 4V1M14 4V1M2 17H16C16.2652 17 16.5196 16.8946 16.7071 16.7071C16.8946 16.5196 17 16.2652 17 16V4C17 3.73478 16.8946 3.48043 16.7071 3.29289C16.5196 3.10536 16.2652 3 16 3H2C1.73478 3 1.48043 3.10536 1.29289 3.29289C1.10536 3.48043 1 3.73478 1 4V16C1 16.2652 1.10536 16.5196 1.29289 16.7071C1.48043 16.8946 1.73478 17 2 17ZM5 10H5.01V10.01H5V10ZM9 10H9.01V10.01H9V10ZM13 10H13.01V10.01H13V10ZM5 14H5.01V14.01H5V14ZM9 14H9.01V14.01H9V14ZM13 14H13.01V14.01H13V14Z",stroke:"#949494",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},9534:(e,l,r)=>{"use strict";r.d(l,{default:()=>n});var a=r(5155),s=r(6874),i=r.n(s),t=r(1326),o=r.n(t);function n(){return(0,a.jsxs)("nav",{className:o().mobile_order_delivery_nav,children:[(0,a.jsx)(i(),{className:o().mobile_nav_item,href:"/myPage/orderDelivery",children:"주문/배송 조회"}),(0,a.jsx)(i(),{className:o().mobile_nav_item,href:"/myPage/wishlist",children:"찜 리스트"}),(0,a.jsx)(i(),{className:o().mobile_nav_item,href:"/myPage/rewards",children:"당첨 내역"})]})}}},e=>{var l=l=>e(e.s=l);e.O(0,[1194,6874,6987,8441,1684,7358],()=>l(1791)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1590],{1469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return s}});let c=r(8229),n=r(8883),a=r(3063),o=c._(r(1193));function s(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=a.Image},2111:(e,t,r)=>{"use strict";r.d(t,{$J:()=>o,os:()=>n,sX:()=>a});let c="recentProducts",n=e=>{let t=[e,...JSON.parse(localStorage.getItem(c)||"[]").filter(t=>t!==e)].slice(0,5);localStorage.setItem(c,JSON.stringify(t))},a=()=>JSON.parse(localStorage.getItem(c)||"[]"),o=e=>{let t=JSON.parse(localStorage.getItem(c)||"[]").filter(t=>t!==e);localStorage.setItem(c,JSON.stringify(t))}},3070:e=>{e.exports={container:"recentProduct_container__XNyG_",header:"recentProduct_header__ZeU86",product_link:"recentProduct_product_link__4uFUk",title:"recentProduct_title__QzRuw",close_button:"recentProduct_close_button__PfNFc",content:"recentProduct_content__khFHO",empty_state:"recentProduct_empty_state__VrHbp",product_list:"recentProduct_product_list__PfhvH",product_item:"recentProduct_product_item__QcxuA",product_image:"recentProduct_product_image__4FCso",product_info:"recentProduct_product_info__fNNcV",brand_name:"recentProduct_brand_name__ipjOo",product_name:"recentProduct_product_name__OWFiP",product_price:"recentProduct_product_price__yCrcP",product_actions:"recentProduct_product_actions__6Kezk",like_button:"recentProduct_like_button__e8VZD",cart_button:"recentProduct_cart_button__xxAHQ",remove_button:"recentProduct_remove_button__cONBl"}},4015:(e,t,r)=>{"use strict";async function c(){let e=await fetch("".concat("https://fesp-api.koyeb.app/market","/products"),{method:"GET",headers:{"Content-Type":"application/json","client-Id":"febc13-final07-emjf"}}),t=await e.json();return console.log("API 응답:",t),t}r.d(t,{y:()=>c})},5147:(e,t,r)=>{Promise.resolve().then(r.bind(r,9202))},5695:(e,t,r)=>{"use strict";var c=r(8999);r.o(c,"usePathname")&&r.d(t,{usePathname:function(){return c.usePathname}}),r.o(c,"useRouter")&&r.d(t,{useRouter:function(){return c.useRouter}}),r.o(c,"useSearchParams")&&r.d(t,{useSearchParams:function(){return c.useSearchParams}})},6766:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var c=r(1469),n=r.n(c)},9202:(e,t,r)=>{"use strict";r.d(t,{default:()=>C});var c=r(5155),n=r(2115),a=r(4015),o=r(2111),s=r(3070),i=r.n(s),l=r(5695),d=r(6874),u=r.n(d),_=r(6766);function C(){let[e,t]=(0,n.useState)([]),[r,s]=(0,n.useState)(!0),d=(0,l.useRouter)();(0,n.useEffect)(()=>{(async()=>{let e=(0,o.sX)();if(0===e.length){t([]),s(!1);return}let r=await (0,a.y)();if(0===r.ok){t([]),s(!1);return}let c=r.item||[];t(e.map(e=>c.find(t=>t._id===e)).filter(e=>!!e)),s(!1)})()},[]);let C=r=>{(0,o.$J)(r),t(e.filter(e=>e._id!==r))};return r?(0,c.jsx)("div",{className:i().loading,children:"로딩 중..."}):0===e.length?(0,c.jsx)("div",{className:i().empty_state,children:"최근 본 상품이 없습니다."}):(0,c.jsxs)("div",{className:i().container,children:[(0,c.jsxs)("header",{className:i().header,children:[(0,c.jsx)("h1",{className:i().title,children:"최근 본 상품"}),(0,c.jsx)("button",{className:i().close_button,onClick:()=>{d.back()},"aria-label":"닫기",children:(0,c.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M11.9997 12.7087L6.75374 17.9547C6.66041 18.0481 6.54574 18.0981 6.40974 18.1047C6.27374 18.1114 6.15241 18.0614 6.04574 17.9547C5.93908 17.8481 5.88574 17.7301 5.88574 17.6007C5.88574 17.4714 5.93908 17.3534 6.04574 17.2467L11.2917 12.0007L6.04574 6.75472C5.95241 6.66139 5.90241 6.54672 5.89574 6.41072C5.88908 6.27472 5.93908 6.15339 6.04574 6.04672C6.15241 5.94005 6.27041 5.88672 6.39974 5.88672C6.52908 5.88672 6.64708 5.94005 6.75374 6.04672L11.9997 11.2927L17.2457 6.04672C17.3391 5.95339 17.4541 5.90339 17.5907 5.89672C17.7261 5.89005 17.8471 5.94005 17.9537 6.04672C18.0604 6.15339 18.1137 6.27139 18.1137 6.40072C18.1137 6.53005 18.0604 6.64805 17.9537 6.75472L12.7077 12.0007L17.9537 17.2467C18.0471 17.3401 18.0971 17.4551 18.1037 17.5917C18.1104 17.7271 18.0604 17.8481 17.9537 17.9547C17.8471 18.0614 17.7291 18.1147 17.5997 18.1147C17.4704 18.1147 17.3524 18.0614 17.2457 17.9547L11.9997 12.7087Z",fill:"#6B7878"})})})]}),(0,c.jsx)("main",{className:i().content,children:(0,c.jsx)("div",{className:i().product_list,children:e.map(e=>{var t,r,n,a;return(0,c.jsx)(u(),{href:"/products/".concat(e._id),className:i().product_link,children:(0,c.jsxs)("div",{className:i().product_item,children:[(0,c.jsx)(_.default,{src:"/".concat((null==(r=e.mainImages)||null==(t=r[0])?void 0:t.path)||"default-product-image.png"),alt:e.name,className:i().product_image,onError:e=>{e.target.src="/default-product-image.png"},width:100,height:100}),(0,c.jsxs)("div",{className:i().product_info,children:[(0,c.jsx)("div",{className:i().brand_name,children:e.extra.movie||"상품"}),(0,c.jsx)("div",{className:i().product_name,children:e.name}),(0,c.jsxs)("div",{className:i().product_price,children:[null!=(a=null==(n=e.price)?void 0:n.toLocaleString())?a:"0","원",(0,c.jsxs)("div",{className:i().product_actions,children:[(0,c.jsx)("button",{className:"".concat(i().like_button),onClick:e=>{e.preventDefault()},children:(0,c.jsx)("svg",{width:"12",height:"14",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M2.24 8.25002C1.84461 7.85725 1.53134 7.38971 1.31845 6.87466C1.10556 6.3596 0.997308 5.80733 1 5.25002C1 4.12285 1.44777 3.04184 2.2448 2.24481C3.04183 1.44778 4.12283 1.00002 5.25 1.00002C6.83 1.00002 8.21 1.86002 8.94 3.14002H10.06C10.4311 2.48908 10.9681 1.94811 11.6163 1.57219C12.2645 1.19628 13.0007 0.998856 13.75 1.00002C14.8772 1.00002 15.9582 1.44778 16.7552 2.24481C17.5522 3.04184 18 4.12285 18 5.25002C18 6.42002 17.5 7.50002 16.76 8.25002L9.5 15.5L2.24 8.25002ZM17.46 8.96002C18.41 8.00002 19 6.70002 19 5.25002C19 3.85763 18.4469 2.52227 17.4623 1.53771C16.4777 0.553141 15.1424 1.8052e-05 13.75 1.8052e-05C12 1.8052e-05 10.45 0.850018 9.5 2.17002C9.0151 1.49652 8.37661 0.948336 7.63748 0.570946C6.89835 0.193557 6.0799 -0.00216431 5.25 1.8052e-05C3.85761 1.8052e-05 2.52226 0.553141 1.53769 1.53771C0.553123 2.52227 0 3.85763 0 5.25002C0 6.70002 0.59 8.00002 1.54 8.96002L9.5 16.92L17.46 8.96002Z",fill:"#6B7878"})})}),(0,c.jsx)("button",{className:"".concat(i().cart_button),onClick:e=>{e.preventDefault()},children:(0,c.jsx)("svg",{width:"12",height:"14",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M0 0.874721C0 0.713697 0.0632147 0.559268 0.175738 0.445406C0.28826 0.331545 0.440874 0.267578 0.600006 0.267578H2.40002C2.53386 0.267616 2.66384 0.312933 2.7693 0.396322C2.87476 0.479712 2.94964 0.596387 2.98203 0.727792L3.46803 2.69615H17.4002C17.4913 2.69618 17.5812 2.71721 17.6631 2.75766C17.745 2.7981 17.8168 2.8569 17.8729 2.92958C17.929 3.00227 17.968 3.08693 17.9869 3.17714C18.0058 3.26735 18.0042 3.36074 17.9822 3.45022L16.1821 10.7359C16.1498 10.8673 16.0749 10.984 15.9694 11.0674C15.864 11.1508 15.734 11.1961 15.6001 11.1961H4.80004C4.66621 11.1961 4.53622 11.1508 4.43076 11.0674C4.3253 10.984 4.25043 10.8673 4.21804 10.7359L1.93202 1.48186H0.600006C0.440874 1.48186 0.28826 1.4179 0.175738 1.30404C0.0632147 1.19017 0 1.03575 0 0.874721ZM3.76803 3.91044L5.26805 9.98186H15.1321L16.6322 3.91044H3.76803ZM6.00006 13.6247C5.68179 13.6247 5.37656 13.7527 5.15152 13.9804C4.92647 14.2081 4.80004 14.517 4.80004 14.839C4.80004 15.1611 4.92647 15.4699 5.15152 15.6976C5.37656 15.9254 5.68179 16.0533 6.00006 16.0533C6.31832 16.0533 6.62355 15.9254 6.84859 15.6976C7.07364 15.4699 7.20007 15.1611 7.20007 14.839C7.20007 14.517 7.07364 14.2081 6.84859 13.9804C6.62355 13.7527 6.31832 13.6247 6.00006 13.6247ZM3.60003 14.839C3.60003 14.1949 3.85289 13.5772 4.30298 13.1217C4.75307 12.6663 5.36353 12.4104 6.00006 12.4104C6.63658 12.4104 7.24704 12.6663 7.69713 13.1217C8.14722 13.5772 8.40008 14.1949 8.40008 14.839C8.40008 15.4831 8.14722 16.1008 7.69713 16.5563C7.24704 17.0117 6.63658 17.2676 6.00006 17.2676C5.36353 17.2676 4.75307 17.0117 4.30298 16.5563C3.85289 16.1008 3.60003 15.4831 3.60003 14.839ZM14.4001 13.6247C14.0819 13.6247 13.7766 13.7527 13.5516 13.9804C13.3266 14.2081 13.2001 14.517 13.2001 14.839C13.2001 15.1611 13.3266 15.4699 13.5516 15.6976C13.7766 15.9254 14.0819 16.0533 14.4001 16.0533C14.7184 16.0533 15.0236 15.9254 15.2487 15.6976C15.4737 15.4699 15.6001 15.1611 15.6001 14.839C15.6001 14.517 15.4737 14.2081 15.2487 13.9804C15.0236 13.7527 14.7184 13.6247 14.4001 13.6247ZM12.0001 14.839C12.0001 14.1949 12.253 13.5772 12.7031 13.1217C13.1532 12.6663 13.7636 12.4104 14.4001 12.4104C15.0367 12.4104 15.6471 12.6663 16.0972 13.1217C16.5473 13.5772 16.8002 14.1949 16.8002 14.839C16.8002 15.4831 16.5473 16.1008 16.0972 16.5563C16.5473 17.0117 15.0367 17.2676 14.4001 17.2676C13.7636 17.2676 13.1532 17.0117 12.7031 16.5563C12.253 16.1008 12.0001 15.4831 12.0001 14.839Z",fill:"#6B7878"})})})]})]})]}),(0,c.jsx)("button",{className:i().remove_button,onClick:t=>{t.preventDefault(),C(e._id)},"aria-label":"상품 삭제",children:(0,c.jsx)("span",{className:i().remove_icon,children:(0,c.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M9 0C13.9706 0 18 4.02944 18 9C18 13.9706 13.9706 18 9 18C4.02944 18 0 13.9706 0 9C0 4.02944 4.02944 0 9 0ZM9 1C4.58172 1 1 4.58172 1 9C1 13.4183 4.58172 17 9 17C13.4183 17 17 13.4183 17 9C17 4.58172 13.4183 1 9 1Z",fill:"#6B7878"}),(0,c.jsx)("path",{d:"M5.44895 13.3477L5 12.8987L8.55105 9.34766L5 5.79661L5.44895 5.34766L9 8.8987L12.551 5.34766L13 5.79661L9.44895 9.34766L13 12.8987L12.551 13.3477L9 9.79661L5.44895 13.3477Z",fill:"#6B7878"})]})})})]},e._id)},e._id)})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1009,6874,3063,8441,1684,7358],()=>t(5147)),_N_E=e.O()}]);
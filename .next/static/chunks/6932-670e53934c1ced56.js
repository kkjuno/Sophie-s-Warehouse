(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6932],{632:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var o=r(5155),i=r(2115),c=r(6766),n=r(6874),s=r.n(n),a=r(4015),l=r(9918),_=r.n(l),d=r(2111);function u(e){let{children:t}=e,[r,c]=(0,i.useState)("/categoryPage/web");return(0,i.useEffect)(()=>{let e=()=>{c(window.innerWidth<=480?"/categoryPage/mobile":"/categoryPage/web")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,o.jsx)(s(),{href:r,children:t})}let v=e=>({"마녀배달부 키키":"/images/mainPage/kiki-hero.svg","이웃집 토토로":"/images/mainPage/totoro-hero.svg","하울의 움직이는 성":"/images/mainPage/howls-hero.svg"})[e]||"/images/mainPage/default-hero.svg";function m(){let[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)(!0),[l,m]=(0,i.useState)(null),[p,h]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async()=>{try{let e=await (0,a.y)();if(console.log("API Response:",e),0===e.ok)throw Error(e.message||"상품 조회 실패");let r=e.item||[];t(r);let o=[...new Set(r.map(e=>{var t;return null==(t=e.extra)?void 0:t.movie}).filter(e=>!!e))];h(o)}catch(e){console.error("Error:",e),m(e instanceof Error?e.message:"알 수 없는 오류")}finally{n(!1)}})()},[]),(0,i.useEffect)(()=>{let e=document.querySelectorAll(".".concat(_().product_row_scroll)),t=e=>{e.preventDefault();let t=.8*e.deltaY;e.currentTarget.scrollLeft+=t},r=e=>{let t=e.currentTarget;t.dataset.touch_start_x=e.touches[0].clientX.toString(),t.dataset.scroll_left=t.scrollLeft.toString()},o=e=>{let t=e.currentTarget;if(!t.dataset.touch_start_x)return;let r=e.touches[0].clientX,o=parseFloat(t.dataset.touch_start_x||"0"),i=parseFloat(t.dataset.scroll_left||"0");t.scrollLeft=i-(r-o)},i=e=>{let t=e.currentTarget;if(e.target.closest(".".concat(_().product_card)))return;let r=!0,o=e.pageX-t.offsetLeft,i=t.scrollLeft;t.style.cursor="grabbing";let c=e=>{if(!r)return;e.preventDefault();let c=e.pageX-t.offsetLeft;t.scrollLeft=i-(c-o)*1.5},n=()=>{r=!1,t.style.cursor="grab",document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",n)};return e.forEach(e=>{e.addEventListener("wheel",t,{passive:!1}),e.addEventListener("mousedown",i),e.addEventListener("touchstart",r,{passive:!1}),e.addEventListener("touchmove",o,{passive:!1}),e.style.cursor="grab"}),()=>{e.forEach(e=>{e.removeEventListener("wheel",t),e.removeEventListener("mousedown",i),e.removeEventListener("touchstart",r),e.removeEventListener("touchmove",o)})}},[p]);let g=t=>e.filter(e=>{var r;return(null==(r=e.extra)?void 0:r.movie)===t}).slice(0,6),f=e=>{console.log("Category clicked: ".concat(e))};return r&&console.log("ProductSection: 로딩 중..."),l&&console.log("ProductSection 에러 발생:",l),0===e.length&&console.log("ProductSection: 상품 데이터가 없습니다"),(0,o.jsxs)("section",{className:_().product_section,children:[(0,o.jsx)("div",{className:_().section_header,children:(0,o.jsx)("div",{className:_().category_tabs,children:p.map(e=>(0,o.jsx)(u,{children:(0,o.jsx)("button",{type:"button",className:_().tab,onClick:()=>f(e),children:e})},e))})}),(0,o.jsx)("div",{className:_().product_rows,children:p.map(e=>{let t=g(e);return 0===t.length?null:(0,o.jsx)("div",{className:_().product_row,children:(0,o.jsxs)("div",{className:_().product_wrapper,children:[(0,o.jsx)("div",{className:_().product_hero,children:(0,o.jsx)(c.default,{src:v(e),alt:"".concat(e," hero"),width:360,height:530,style:{width:"100%",height:"auto",display:"block"}})}),(0,o.jsx)("div",{className:_().product_row_scroll,children:t.map(e=>{var t,r,i,n;return(0,o.jsx)(s(),{href:"/products/".concat(e._id),className:_().product_link,children:(0,o.jsxs)("div",{className:_().product_card,onClick:()=>(0,d.os)(e._id),children:[(0,o.jsx)("div",{className:_().product_image,children:(null==(r=e.mainImages)||null==(t=r[0])?void 0:t.path)&&(0,o.jsx)(c.default,{src:"/".concat(e.mainImages[0].path),alt:e.name,width:200,height:200,style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,o.jsxs)("div",{className:_().product_info,children:[(0,o.jsxs)("p",{className:_().product_category,children:["[",null==(i=e.extra)?void 0:i.movie,"]"]}),(0,o.jsx)("h4",{className:_().product_name,children:e.name}),(0,o.jsxs)("p",{className:_().product_price,children:[null==(n=e.price)?void 0:n.toLocaleString(),"원"]})]})]})},e._id)})})]})},e)})})]})}},1469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return a},getImageProps:function(){return s}});let o=r(8229),i=r(8883),c=r(3063),n=o._(r(1193));function s(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let a=c.Image},2111:(e,t,r)=>{"use strict";r.d(t,{$J:()=>n,os:()=>i,sX:()=>c});let o="recentProducts",i=e=>{let t=[e,...JSON.parse(localStorage.getItem(o)||"[]").filter(t=>t!==e)].slice(0,5);localStorage.setItem(o,JSON.stringify(t))},c=()=>JSON.parse(localStorage.getItem(o)||"[]"),n=e=>{let t=JSON.parse(localStorage.getItem(o)||"[]").filter(t=>t!==e);localStorage.setItem(o,JSON.stringify(t))}},2303:e=>{e.exports={section_title:"reviewSection_section_title__FNTRH",review_link:"reviewSection_review_link__3xOLS",review_scroll_container:"reviewSection_review_scroll_container__7J36w",review_row:"reviewSection_review_row__xQufl",review_card:"reviewSection_review_card__wsZKH",review_main_image:"reviewSection_review_main_image__kDVcR",review_content:"reviewSection_review_content__b20pZ",review_title:"reviewSection_review_title__NSkJK",review_info_box:"reviewSection_review_info_box__k2bA4",review_thumbnail:"reviewSection_review_thumbnail__9TJN7",review_rating:"reviewSection_review_rating__W9hYD",review_text:"reviewSection_review_text__a4DiR"}},4015:(e,t,r)=>{"use strict";async function o(){let e=await fetch("".concat("https://fesp-api.koyeb.app/market","/products"),{method:"GET",headers:{"Content-Type":"application/json","client-Id":"febc13-final07-emjf"}}),t=await e.json();return console.log("API 응답:",t),t}r.d(t,{y:()=>o})},6766:(e,t,r)=>{"use strict";r.d(t,{default:()=>i.a});var o=r(1469),i=r.n(o)},6932:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.t.bind(r,3063,23)),Promise.resolve().then(r.bind(r,632)),Promise.resolve().then(r.bind(r,9198)),Promise.resolve().then(r.t.bind(r,8491,23)),Promise.resolve().then(r.t.bind(r,9101,23))},8491:e=>{e.exports={event_wrapper:"eventSection_event_wrapper__wVbaZ",img:"eventSection_img__0SzmJ",event_popup:"eventSection_event_popup__xE_bY",main_image_wrapper:"eventSection_main_image_wrapper__szvZc",sub_event_popup:"eventSection_sub_event_popup__2X4IS",sub_image_wrapper:"eventSection_sub_image_wrapper__4LQQr"}},9101:e=>{e.exports={hero_image:"mainPage_hero_image__rEAPA",hero_content:"mainPage_hero_content__yq1jW",hero_title:"mainPage_hero_title__91umU",hero_button:"mainPage_hero_button__N_VQW"}},9198:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var o=r(5155),i=r(2115),c=r(6766),n=r(6874),s=r.n(n),a=r(2303),l=r.n(a);function _(e){let{reviews:t}=e;return(0,i.useEffect)(()=>{let e=document.querySelectorAll(".".concat(l().review_row)),t=e=>{e.preventDefault();let t=.8*e.deltaY;e.currentTarget.scrollLeft+=t},r=e=>{let t=e.currentTarget;t.dataset.touch_start_x=e.touches[0].clientX.toString(),t.dataset.scroll_left=t.scrollLeft.toString()},o=e=>{let t=e.currentTarget;if(!t.dataset.touch_start_x)return;let r=e.touches[0].clientX,o=parseFloat(t.dataset.touch_start_x||"0"),i=parseFloat(t.dataset.scroll_left||"0");t.scrollLeft=i-(r-o)},i=e=>{let t=e.currentTarget;if(e.target.closest(".".concat(l().review_card)))return;let r=!0,o=e.pageX-t.offsetLeft,i=t.scrollLeft;t.style.cursor="grabbing";let c=e=>{if(!r)return;e.preventDefault();let c=e.pageX-t.offsetLeft;t.scrollLeft=i-(c-o)*10},n=()=>{r=!1,t.style.cursor="grab",document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",n)};return e.forEach(e=>{e.addEventListener("wheel",t,{passive:!1}),e.addEventListener("mousedown",i),e.addEventListener("touchstart",r,{passive:!1}),e.addEventListener("touchmove",o,{passive:!1}),e.style.cursor="grab"}),()=>{e.forEach(e=>{e.removeEventListener("wheel",t),e.removeEventListener("mousedown",i),e.removeEventListener("touchstart",r),e.removeEventListener("touchmove",o)})}},[]),(0,o.jsxs)("section",{className:l().review_section,children:[(0,o.jsx)("h2",{className:l().section_title,children:"REVIEW"}),(0,o.jsx)("div",{className:l().review_scroll_container,children:(0,o.jsx)("div",{className:l().review_row,children:t.map(e=>(0,o.jsx)("div",{className:l().review_card,children:(0,o.jsxs)(s(),{href:"/reviews/".concat(e.id),className:l().review_link,children:[(0,o.jsx)("div",{className:l().review_main_image,children:(0,o.jsx)(c.default,{src:e.image,alt:e.name,fill:!0,style:{objectFit:"contain"}})}),(0,o.jsxs)("div",{className:l().review_content,children:[(0,o.jsx)("h4",{className:l().review_title,children:e.name}),(0,o.jsxs)("div",{className:l().review_info_box,children:[(0,o.jsx)("div",{className:l().review_thumbnail,children:(0,o.jsx)(c.default,{src:e.image,alt:e.name,fill:!0,style:{objectFit:"cover"}})}),(0,o.jsxs)("div",{className:l().review_text_content,children:[(0,o.jsxs)("div",{className:l().review_rating,children:["★".repeat(e.rating),"☆".repeat(5-e.rating)]}),(0,o.jsx)("p",{className:l().review_text,children:e.content})]})]})]})]})},e.id))})})]})}},9918:e=>{e.exports={product_section:"productSection_product_section__g0VN6",product_rows:"productSection_product_rows__XIbWa",product_wrapper:"productSection_product_wrapper__60639",product_hero:"productSection_product_hero__H7F1W",product_row:"productSection_product_row__hq_7c",product_row_scroll:"productSection_product_row_scroll__CKRvx",product_link:"productSection_product_link__ZCR_k",product_card:"productSection_product_card__jfPWL",product_image:"productSection_product_image__ZrCUg",product_info:"productSection_product_info__1QPvA",product_category:"productSection_product_category__jk7gG",product_name:"productSection_product_name__ge6jX",product_price:"productSection_product_price__mzpUl",section_header:"productSection_section_header__rfAQf",category_tabs:"productSection_category_tabs__scrrd",tab:"productSection_tab__POsdS"}}}]);